pulumi_content: |
  #!/bin/sh
  echo "Kubeconfig path is :" 
  echo $KUBECONFIG
  npm install
  pulumi stack select dev
  pulumi up --yes
  pulumi stack output
  curl $(pulumi stack output url)
pulumi_git_path: aws-native-ts-ecs
pulumi_uninstall: |-
  #!/bin/sh
  pulumi stack select dev
  aws ssm describe-instance-information | jq ".InstanceInformationList | .[] | .InstanceId" | grep "mi-" | xargs -L 1 aws ssm deregister-managed-instance --instance-id
  aws ecs list-container-instances --cluster ${pulumi stack output clusterName} | jq ".containerInstanceArns | .[]" | xargs -L 1 aws ecs deregister-container-instance --cluster ${pulumi stack output clusterName} --force --container-instance
  pulumi refresh -y
  pulumi destroy --yes
  pulumi stack rm --yes
lastUpdatedBy: Yash Upadhyay
lastUpdatedOn: 2023-01-23T10:05:57.755Z
